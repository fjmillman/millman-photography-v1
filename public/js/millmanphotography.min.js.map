{"version":3,"sources":["millmanphotography.js"],"names":["$","images","setInterval","image","Math","floor","random","length","css","success","data","$form","trigger","$message","text","prependTo","$submit","parent","setTimeout","remove","error","request","responseJSON","complete","csrfToken","getResponseHeader","parseJSON","csrfTokenKeys","Object","keys","hiddenFields","find","each","i","this","attr","val","e","on","ajax","url","method","serialize","cache","dataType","done","fail","always","document","preventDefault","target","scrollToPosition","offset","top","animate","scrollTop"],"mappings":"AAAA,YAAAA,GAAE,WACE,GAAIC,IAAU,eAAgB,YAAa,iBAChCC,aAAY,WACnB,GAAIC,GAAQF,EAAOG,KAAKC,MAAMD,KAAKE,SAAWL,EAAOM,QACrDP,GAAE,qBAAqBQ,IAAI,mBAAoB,2CAA6CL,EAAQ,UACrG,OAGPH,EAAE,WAaE,QAASS,GAAQC,GACbC,EAAMC,QAAQ,QACd,IAAIC,GAAWb,EAAE,OAAOc,KAAKJ,GAAMF,IAAI,QAAS,SAASO,UAAUC,EAAQC,SAC3EC,YAAW,WAAaL,EAASM,UAAa,MAElD,QAASC,GAAMC,GACX,GAAIR,GAAWb,EAAE,OAAOc,KAAKO,EAAQC,cAAcd,IAAI,QAAS,OAAOO,UAAUC,EAAQC,SACzFC,YAAW,WAAaL,EAASM,UAAa,MAElD,QAASI,GAAUF,GACf,GAAIG,GAAYH,EAAQI,kBAAkB,cAC1C,IAAID,EACA,IACIA,EAAYxB,EAAE0B,UAAUF,EACxB,IAAMG,GAAgBC,OAAOC,KAAKL,GAC5BM,EAAenB,EAAMoB,KAAK,4BAC5BJ,GAAcpB,SAAWuB,EAAavB,QACtCuB,EAAaE,KAAK,SAASC,GACvBjC,EAAEkC,MAAMC,KAAK,OAAQR,EAAcM,IACnCjC,EAAEkC,MAAME,IAAIZ,EAAUG,EAAcM,OAG9C,MAAOI,KAlCjB,GAAM1B,GAAQX,EAAE,iBACVgB,EAAUhB,EAAE,UAClBW,GAAM2B,GAAG,SAAU,WAQf,MAPAtC,GAAEuC,MACEC,IAAK7B,EAAMwB,KAAK,UAChBM,OAAQ9B,EAAMwB,KAAK,UACnBzB,KAAMC,EAAM+B,YACZC,OAAO,EACPC,SAAU,SACXC,KAAKpC,GAASqC,KAAK1B,GAAO2B,OAAOxB,IAC7B,MA+BfvB,EAAE,WACEA,EAAEgD,UAAUV,GAAG,QAAS,+BAAgC,SAASD,GAC7DA,EAAEY,gBACF,IAAIC,GAASlD,EAAEkC,MAAMC,KAAK,QACtBgB,EAAmBnD,EAAEkD,GAAQE,SAASC,GAC1CrD,GAAE,cAAcsD,SAAUC,UAAaJ,GAAoB","file":"millmanphotography.min.js","sourcesContent":["$(function() {\n    let images = ['ashnessjetty', 'swaledale', 'northumberland'];\n    let time = setInterval(function() {\n        let image = images[Math.floor(Math.random() * images.length)];\n        $(\"#background-image\").css('background-image', 'url(http://millmanphotography.co.uk/img/' + image + '.jpg)');\n    }, 10000);\n});\n\n$(function () {\n    const $form = $('#enquiry-form');\n    const $submit = $('#submit');\n    $form.on('submit', function () {\n        $.ajax({\n            url: $form.attr('action'),\n            method: $form.attr('method'),\n            data: $form.serialize(),\n            cache: false,\n            dataType: 'json'\n        }).done(success).fail(error).always(complete);\n        return false;\n    });\n    function success(data) {\n        $form.trigger('reset');\n        let $message = $('<p>').text(data).css('color', 'green').prependTo($submit.parent());\n        setTimeout(function() { $message.remove(); }, 2500);\n    }\n    function error(request) {\n        let $message = $('<p>').text(request.responseJSON).css('color', 'red').prependTo($submit.parent());\n        setTimeout(function() { $message.remove(); }, 2500);\n    }\n    function complete (request) {\n        let csrfToken = request.getResponseHeader('X-CSRFToken');\n        if (csrfToken) {\n            try {\n                csrfToken = $.parseJSON(csrfToken);\n                const csrfTokenKeys = Object.keys(csrfToken);\n                const hiddenFields = $form.find('input.csrf[type=\"hidden\"]');\n                if (csrfTokenKeys.length === hiddenFields.length) {\n                    hiddenFields.each(function(i) {\n                        $(this).attr('name', csrfTokenKeys[i]);\n                        $(this).val(csrfToken[csrfTokenKeys[i]]);\n                    });\n                }\n            } catch (e) {\n                void 0;\n            }\n        }\n    }\n});\n\n$(function() {\n    $(document).on('click', 'a[href*=\\\\#]:not([href=\\\\#])', function(e) {\n        e.preventDefault();\n        let target = $(this).attr('href');\n        let scrollToPosition = $(target).offset().top;\n        $('html, body').animate({ 'scrollTop': scrollToPosition }, 600);\n    });\n});\n"]}