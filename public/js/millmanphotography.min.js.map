{"version":3,"sources":["millmanphotography.js"],"names":["$","success","data","$form","trigger","$message","text","css","prependTo","$submit","parent","setTimeout","remove","error","request","responseJSON","complete","csrfToken","getResponseHeader","parseJSON","csrfTokenKeys","Object","keys","hiddenFields","find","length","each","i","this","attr","val","e","on","ajax","url","method","serialize","cache","dataType","done","fail","always","document","preventDefault","target","scrollToPosition","offset","top","animate","scrollTop"],"mappings":"AAAA,YAAAA,GAAE,WAaE,QAASC,GAAQC,GACbC,EAAMC,QAAQ,QACd,IAAIC,GAAWL,EAAE,OAAOM,KAAKJ,GAAMK,IAAI,QAAS,SAASC,UAAUC,EAAQC,SAC3EC,YAAW,WAAaN,EAASO,UAAa,MAElD,QAASC,GAAMC,GACX,GAAIT,GAAWL,EAAE,OAAOM,KAAKQ,EAAQC,cAAcR,IAAI,QAAS,OAAOC,UAAUC,EAAQC,SACzFC,YAAW,WAAaN,EAASO,UAAa,MAElD,QAASI,GAAUF,GACf,GAAIG,GAAYH,EAAQI,kBAAkB,cAC1C,IAAID,EACA,IACIA,EAAYjB,EAAEmB,UAAUF,EACxB,IAAMG,GAAgBC,OAAOC,KAAKL,GAC5BM,EAAepB,EAAMqB,KAAK,4BAC5BJ,GAAcK,SAAWF,EAAaE,QACtCF,EAAaG,KAAK,SAASC,GACvB3B,EAAE4B,MAAMC,KAAK,OAAQT,EAAcO,IACnC3B,EAAE4B,MAAME,IAAIb,EAAUG,EAAcO,OAG9C,MAAOI,KAlCjB,GAAM5B,GAAQH,EAAE,iBACVS,EAAUT,EAAE,UAClBG,GAAM6B,GAAG,SAAU,WAQf,MAPAhC,GAAEiC,MACEC,IAAK/B,EAAM0B,KAAK,UAChBM,OAAQhC,EAAM0B,KAAK,UACnB3B,KAAMC,EAAMiC,YACZC,OAAO,EACPC,SAAU,SACXC,KAAKtC,GAASuC,KAAK3B,GAAO4B,OAAOzB,IAC7B,MA+BfhB,EAAE,WACEA,EAAE0C,UAAUV,GAAG,QAAS,+BAAgC,SAASD,GAC7DA,EAAEY,gBACF,IAAIC,GAAS5C,EAAE4B,MAAMC,KAAK,QACtBgB,EAAmB7C,EAAE4C,GAAQE,SAASC,GAC1C/C,GAAE,cAAcgD,SAAUC,UAAaJ,GAAoB","file":"millmanphotography.min.js","sourcesContent":["$(function () {\n    const $form = $('#enquiry-form');\n    const $submit = $('#submit');\n    $form.on('submit', function () {\n        $.ajax({\n            url: $form.attr('action'),\n            method: $form.attr('method'),\n            data: $form.serialize(),\n            cache: false,\n            dataType: 'json'\n        }).done(success).fail(error).always(complete);\n        return false;\n    });\n    function success(data) {\n        $form.trigger('reset');\n        let $message = $('<p>').text(data).css('color', 'green').prependTo($submit.parent());\n        setTimeout(function() { $message.remove(); }, 2500);\n    }\n    function error(request) {\n        let $message = $('<p>').text(request.responseJSON).css('color', 'red').prependTo($submit.parent());\n        setTimeout(function() { $message.remove(); }, 2500);\n    }\n    function complete (request) {\n        let csrfToken = request.getResponseHeader('X-CSRFToken');\n        if (csrfToken) {\n            try {\n                csrfToken = $.parseJSON(csrfToken);\n                const csrfTokenKeys = Object.keys(csrfToken);\n                const hiddenFields = $form.find('input.csrf[type=\"hidden\"]');\n                if (csrfTokenKeys.length === hiddenFields.length) {\n                    hiddenFields.each(function(i) {\n                        $(this).attr('name', csrfTokenKeys[i]);\n                        $(this).val(csrfToken[csrfTokenKeys[i]]);\n                    });\n                }\n            } catch (e) {\n                void 0;\n            }\n        }\n    }\n});\n\n$(function() {\n    $(document).on('click', 'a[href*=\\\\#]:not([href=\\\\#])', function(e) {\n        e.preventDefault();\n        let target = $(this).attr('href');\n        let scrollToPosition = $(target).offset().top;\n        $('html, body').animate({ 'scrollTop': scrollToPosition }, 600);\n    });\n});\n"]}